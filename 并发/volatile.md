# volatile

- 保证变量的可见性

- 禁止指令重排序
- 不能保证原子性

## 保证变量的可见性

volatile可以禁用CPU缓存。用volatile修饰的变量每次使用都要去主存中去读取。

使用volatile修饰的变量可以保证其内存可见性。

## 禁止指令重排序

用volatile修饰的变量在读写时，会通过插入内存屏障的方式来禁止指令重排序。

典型案例就是懒汉单例模式的双重校验锁的写法。

## 不能保证原子性

syn关键字能保证数据的可见性以及原子性。 

