# G1特点

> 好好看书才是硬道理，网上的博客都是扯淡.....

G1是一款基于Region内存布局、面向局部收集并且可以建立起”停顿预测模型“的垃圾收集器。

在这三个特点中，面向局部收集是建立”停顿预测模型“实现的基础，而基于Region内存布局是面向局部收集的基础。

先谈基于Region内存布局。

与传统的堆内存布局不同，G1把堆内存划分成了若干大小相等的独立区域。每个Region可以根据需要扮演不同的角色，G1也可以根据Region的角色采取不同的措施去收集它。

有了Region布局后实现局部收集就没那么困难了。

传统的垃圾回收要么是回收整个新生代，或者整个老年代，再或者就是整个堆。而G1可以面向堆的内核部分来组成回收集来进行回收。衡量标准不是说它属于哪个分代，而是说哪块内存的收益最大。这就是G1的Mixed GC。

G1根据用户设定的允许的停顿时间优先处理回收价值最大的哪些Region。价值是指回收所获得的空间大小以及回收所需的时间的经验值。

这保证了G1可以在有限时间内获得最高的收集效率。

局部收集是建立”停顿预测模型“的关键。





