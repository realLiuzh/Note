# G1过程

G1中可分为Minor GC、Mixed GC。

当伊甸园区满后会触发Minor GC。Minor GC会导致STW。

Minor GC主要做的就是把伊甸园区存活的对象复制到幸存者区，然后清除伊甸园区中垃圾对象。

对象晋升到老年代的方式与之前一样。

在Minor GC时还会进行初始标记。

当堆空间达到一定阈值就会触发Mixed GC（默认是45%）

Mixed GC会进行并发标记、重新标记和筛选回收。初始标记复用的是Minor GC。

当G1发现没有空闲Region来存储对象了，就会触发一次失败。这个时候就会切换到Serial垃圾收集器进行Full GC（单线程的标记、清理和压缩整理）。



1. 初始标记。
2. 并发标记。
3. 重新标记。
4. 筛选回收。按照Region价值的大小进行排序，再根据用户设定的期望停顿时间来组合回收集。并进行清理。需要STW。