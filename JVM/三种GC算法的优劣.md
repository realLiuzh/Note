# 三种GC算法的优劣

- 标记清除。性能上跟整理算法差不多。但是有内存碎片的致命缺点。
- 标记整理。一般情况下没复制快。但是在大量对象存活的场景下优势很大，在该场景下可能性能不比复制差。
- 标记复制。需要占用两倍内存。如果不看场景的话该算法是最快的。除此之外，该算法在存活对象少时性能好。

实际上，JVM使用的是基于分代理论的分代收集算法。

举个例子，如果说每次GC都有80%以上的对象存活。

| 复制算法 | 每次GC把这80%的对象复制到幸存者区            |
| -------- | -------------------------------------------- |
| 整理算法 | 每次都移除**少部分**对象后移动**少部分**对象 |

如果每次GC有20%以下的对象存活。

| 复制算法 | 只需要复制少于20%的对象，速度快                              |
| -------- | ------------------------------------------------------------ |
| 整理算法 | 虽然只需要移动少部分对象。但是毕竟有两次遍历的劣势，速度较慢 |



综上，

- 复制算法。适合存活对象少的场景
- 整理算法。适合存活对象多的场景。